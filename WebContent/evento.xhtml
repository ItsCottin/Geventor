<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

	<h:head>
	    <title>Minha Página</title>
	    <f:facet name="first">
			<meta charset="UTF-8" />
			<meta name="viewport" content="width=device-width, initial-scale=1" />
		</f:facet>
		<h:outputStylesheet library="bootstrap4/styles" name="bootstrap.min.css" />
		<h:outputScript library="js" name="bootstrap.min.js" />
		
		
		<h:outputStylesheet library="styles" name="customV2.css" />
		<h:outputScript library="js" name="customV2.js" />
	</h:head>
	
	<h:body class="bg-light">
		<div class="container">
			<h:form>
				<div class="jumbotron m-4 bg-white shadow">
			    	<div class="row">
			    		<div class="col-xl-12 col-md-12 col-sm-12">
							<h1 class="text-center"><strong>Evento:</strong> #{URLsharedEventMB.evento.titulo}</h1>
						</div>
					</div>
		    	</div>
			    <div class="row">
			    	<div class="col-xl-12 col-md-12 col-sm-12">
						<h3 class="text-center">Atividades:</h3>
					</div>
		    	</div>
		    	<c:forEach var="ativ" items="#{URLsharedEventMB.evento.atividades}" step="1" begin="0">
		    		<div class="col-xd-6 col-md-6 col-sm-12 mt-4">
	                	<div class="card no-border-rcf shadow">
	                    	<div class="card-header no-border-rcf">
	                           <strong>Atividade:</strong> #{ativ.nome}
	                        </div>
	                        <div class="card-body no-border-rcf">
	                           <p class="card-text"><strong>Descrição:</strong> #{ativ.detalhes}</p>
	                           <p class="card-text"><strong>Vagas:</strong> #{ativ.vagas - ativ.qtdInscrito} de #{ativ.vagas}</p>
	                         </div>
	                         
	                         <c:choose>
		             			<c:when test="${fn:length(ativ.usuarioAtividade) > 0}">
		             				<div class="card-header no-border-rcf">
										 <strong>Inscritos:</strong>
									  </div>
									  <div class="card-body no-border-rcf">
										  <ul class="list-group">
										     <c:forEach var="insc" items="#{ativ.usuarioAtividade}" step="1" begin="0">
										       <li class="list-group-item no-border-rcf">
										      	  <div class="row">
											      	 <div class="col-sm-4 col-small-4-rcf">
											        	 <h:graphicImage library="perfil" name="#{insc.usuario.avatar}" styleClass="avatar img-circle img-thumbnail" />
											         </div>
											         <div class="col-sm-8 col-small-8-rcf">
											        	 <p class="card-text"><strong>Nome:</strong> #{insc.usuario.nome}</p>
				                           				 <p class="card-text"><strong>Contato:</strong> #{insc.usuario.email}</p>
											         </div>
										          </div>
										       </li>
										     </c:forEach>
										   </ul>
										</div>
			                        	<div class="card-footer no-border-rcf text-muted">
			                           		#{0 > ativ.qtdDifTemp ? '' : ativ.qtdDifTemp} #{ativ.tpDifTemp eq 'dias' ? 'dias' : (ativ.tpDifTemp eq 'horas' ? 'horas' : (ativ.qtdDifTemp eq 0 ? 'Pouco tempo' : 'minutos'))} atrás
			                        	</div>
		             			
		             			</c:when>
		             			<c:otherwise>
		             				<div class="alert alert-warning d-flex justify-content-center align-items-center" role="alert">
										Nenhum Inscrito nessa Atividade.
									</div>
		             			</c:otherwise>
		             		</c:choose>
	                     	</div>
	                  </div>
	             </c:forEach>
		    </h:form>
	    </div>
	</h:body>
</html>